{"mappings":"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","sources":["<anon>","src/app.js"],"sourcesContent":["var $6f40c3a58f594b58$exports = {};\n// 1. Реалізуйте функцію getStudents для отримання списку всіх студентів(HTTP GET / students) getStudents\n// 2. Реалізуйте функцію addStudent для додавання нового студента(HTTP POST / students)\n// 3. Реалізуйте функцію updateStudent  для часткового оновлення студента(HTTP PATCH / students / { id })\n// 4. Реалізуйте функцію  для deleteStudent видалення студента за його ідентифікатором(HTTP DELETE / students / { id })\n// 7. Написати JavaScript - код для обробки подій користувача.\n// 7.1.Додати обробники подій для кнопок, щоб вони виконували відповідні HTTP - запити.\n// 7.2.При натисканні на кнопку \"Отримати студентів\"(GET), виконати HTTP - запит GET / students і відобразити отримані дані в таблиці.\n// 7.3.Реалізувати форму для додавання нового студента.При натисканні на кнопку \"Додати студента\"(POST), зібрати дані з полів вводу, сформувати об'єкт з даними  і виконати HTTP-запит POST /students, щоб додати нового студента до бази даних.\n// 7.4.Реалізувати можливість оновлення інформації про студента.Для кожного студента в таблиці додати кнопку \"Оновити\".При натисканні на цю кнопку, виконати HTTP - запит PUT / students /: id, де : id — ідентифікатор фільму, і відправити оновлені дані про студента на сервер.\n// 7.5.Додати можливість видалення студента.Для кожного студента в таблиці додати кнопку \"Видалити\".При натисканні на цю кнопку, виконати HTTP - запит DELETE / students /: id.\nconst $6f40c3a58f594b58$var$tableBody = document.querySelector(\"tbody\");\nconst $6f40c3a58f594b58$var$getBtn = document.getElementById(\"get-students-btn\");\nconst $6f40c3a58f594b58$var$formRef = document.getElementById(\"add-student-form\");\nlet $6f40c3a58f594b58$var$currentEdit = null;\nfunction $6f40c3a58f594b58$var$getStudents() {\n    return fetch(\"http://localhost:3000/students\").then((res)=>res.json());\n}\nfunction $6f40c3a58f594b58$var$addStudent(student) {\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(student),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    return fetch(\"http://localhost:3000/students\", options).then((res)=>res.json());\n}\nfunction $6f40c3a58f594b58$var$updateStudent(id, student) {\n    const options = {\n        method: \"PUT\",\n        body: JSON.stringify(student),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\"\n        }\n    };\n    return fetch(`http://localhost:3000/students/${id}`, options).then((res)=>res.json());\n}\nfunction $6f40c3a58f594b58$var$deleteStudent(id) {\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    }).then((res)=>res.json());\n}\n$6f40c3a58f594b58$var$getBtn.addEventListener(\"click\", ()=>{\n    $6f40c3a58f594b58$var$getStudents().then((res)=>$6f40c3a58f594b58$var$renderStudents(res));\n});\nfunction $6f40c3a58f594b58$var$renderStudents(students) {\n    const item = students.map(({ id: id, name: name, age: age, course: course, skills: skills, email: email, isEnrolled: isEnrolled })=>{\n        return `<tr id=\"${id}\">\n          <td class=\"item-id\">${id}</td>\n          <td class=\"item-name\">${name}</td>\n          <td class=\"item-age\">${age}</td>\n          <td class=\"item-course\">${course}</td>\n          <td class=\"item-skills\">${skills}</td>\n          <td class=\"item-email\">${email}</td>\n          <td class=\"item-is-enrolled\">${isEnrolled}</td>\n          <td>\n            <button type=\"button\" data-action=\"edit\">\\u{420}\\u{435}\\u{434}\\u{430}\\u{433}\\u{443}\\u{432}\\u{430}\\u{442}\\u{438}</button>\n            <button type=\"button\" data-action=\"delete\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438}</button>\n          </td>\n        </tr>`;\n    }).join(\"\");\n    $6f40c3a58f594b58$var$tableBody.innerHTML = item;\n}\n$6f40c3a58f594b58$var$formRef.addEventListener(\"submit\", (event)=>{\n    event.preventDefault();\n    const elements = event.currentTarget.elements;\n    console.log(elements);\n    const studentData = {\n        name: elements.name.value.trim(),\n        age: elements.age.value.trim(),\n        course: elements.course.value.trim(),\n        skills: elements.skills.value.trim(),\n        email: elements.email.value.trim(),\n        isEnrolled: elements.isEnrolled.checked\n    };\n    if ($6f40c3a58f594b58$var$currentEdit === null) $6f40c3a58f594b58$var$addStudent(studentData).then((res)=>{\n        $6f40c3a58f594b58$var$formRef.reset();\n        $6f40c3a58f594b58$var$getStudents().then((res)=>$6f40c3a58f594b58$var$renderStudents(res));\n    });\n    else $6f40c3a58f594b58$var$updateStudent($6f40c3a58f594b58$var$currentEdit, studentData).then((res)=>{\n        $6f40c3a58f594b58$var$currentEdit = 0;\n        $6f40c3a58f594b58$var$formRef.reset();\n        $6f40c3a58f594b58$var$getStudents().then((res)=>$6f40c3a58f594b58$var$renderStudents(res));\n    });\n});\n$6f40c3a58f594b58$var$tableBody.addEventListener(\"click\", (event)=>{\n    const action = event.target.dataset.action;\n    if (!action) return;\n    const tr = event.target.closest(\"tr\");\n    const id = tr.id;\n    if (action === \"delete\") $6f40c3a58f594b58$var$deleteStudent(id).then(()=>$6f40c3a58f594b58$var$getStudents()).then((res)=>$6f40c3a58f594b58$var$renderStudents(res));\n    if (action === \"edit\") {\n        $6f40c3a58f594b58$var$currentEdit = id;\n        $6f40c3a58f594b58$var$formRef.elements.name.value = tr.querySelector(\".item-name\").textContent;\n        $6f40c3a58f594b58$var$formRef.elements.age.value = tr.querySelector(\".item-age\").textContent;\n        $6f40c3a58f594b58$var$formRef.elements.course.value = tr.querySelector(\".item-course\").textContent;\n        $6f40c3a58f594b58$var$formRef.elements.skills.value = tr.querySelector(\".item-skills\").textContent;\n        $6f40c3a58f594b58$var$formRef.elements.email.value = tr.querySelector(\".item-email\").textContent;\n        $6f40c3a58f594b58$var$formRef.elements.isEnrolled.checked = tr.querySelector(\".item-is-enrolled\").textContent === \"true\";\n    }\n});\n\n\n//# sourceMappingURL=crud.29585fd9.js.map\n","// 1. Реалізуйте функцію getStudents для отримання списку всіх студентів(HTTP GET / students) getStudents\r\n// 2. Реалізуйте функцію addStudent для додавання нового студента(HTTP POST / students)\r\n// 3. Реалізуйте функцію updateStudent  для часткового оновлення студента(HTTP PATCH / students / { id })\r\n// 4. Реалізуйте функцію  для deleteStudent видалення студента за його ідентифікатором(HTTP DELETE / students / { id })\r\n// 7. Написати JavaScript - код для обробки подій користувача.\r\n// 7.1.Додати обробники подій для кнопок, щоб вони виконували відповідні HTTP - запити.\r\n// 7.2.При натисканні на кнопку \"Отримати студентів\"(GET), виконати HTTP - запит GET / students і відобразити отримані дані в таблиці.\r\n// 7.3.Реалізувати форму для додавання нового студента.При натисканні на кнопку \"Додати студента\"(POST), зібрати дані з полів вводу, сформувати об'єкт з даними  і виконати HTTP-запит POST /students, щоб додати нового студента до бази даних.\r\n// 7.4.Реалізувати можливість оновлення інформації про студента.Для кожного студента в таблиці додати кнопку \"Оновити\".При натисканні на цю кнопку, виконати HTTP - запит PUT / students /: id, де : id — ідентифікатор фільму, і відправити оновлені дані про студента на сервер.\r\n// 7.5.Додати можливість видалення студента.Для кожного студента в таблиці додати кнопку \"Видалити\".При натисканні на цю кнопку, виконати HTTP - запит DELETE / students /: id.\r\n\r\nconst tableBody = document.querySelector(\"tbody\");\r\nconst getBtn = document.getElementById(\"get-students-btn\");\r\nconst formRef = document.getElementById(\"add-student-form\");\r\n\r\nlet currentEdit = null;\r\n\r\n\r\n\r\nfunction getStudents() {\r\n  return fetch(\"http://localhost:3000/students\").then((res) => res.json());\r\n};\r\n\r\nfunction addStudent(student) {\r\n  const options = {\r\n    method: \"POST\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n  return fetch(\"http://localhost:3000/students\", options).then((res) => res.json());\r\n};\r\n\r\nfunction updateStudent(id, student) {\r\n  const options = {\r\n    method: \"PUT\",\r\n    body: JSON.stringify(student),\r\n    headers: {\r\n      \"Content-Type\": \"application/json; charset=UTF-8\",\r\n    },\r\n  };\r\n  return fetch(`http://localhost:3000/students/${id}`, options).then((res) => res.json());\r\n};\r\n\r\nfunction deleteStudent(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\",\r\n  }).then((res) => res.json());\r\n};\r\n\r\n\r\n\r\ngetBtn.addEventListener(\"click\", () => {\r\n  getStudents().then(res => renderStudents(res));\r\n});\r\n\r\n\r\n\r\nfunction renderStudents(students) {\r\n  const item = students.map(({ id, name, age, course, skills, email, isEnrolled }) => {\r\n    return `<tr id=\"${id}\">\r\n          <td class=\"item-id\">${id}</td>\r\n          <td class=\"item-name\">${name}</td>\r\n          <td class=\"item-age\">${age}</td>\r\n          <td class=\"item-course\">${course}</td>\r\n          <td class=\"item-skills\">${skills}</td>\r\n          <td class=\"item-email\">${email}</td>\r\n          <td class=\"item-is-enrolled\">${isEnrolled}</td>\r\n          <td>\r\n            <button type=\"button\" data-action=\"edit\">Редагувати</button>\r\n            <button type=\"button\" data-action=\"delete\">Видалити</button>\r\n          </td>\r\n        </tr>`\r\n  }).join(\"\");\r\n\r\n  tableBody.innerHTML = item;\r\n\r\n};\r\n\r\n\r\n\r\nformRef.addEventListener(\"submit\", (event) => {\r\n  event.preventDefault();\r\n\r\n  const elements = event.currentTarget.elements;\r\n  console.log(elements);\r\n\r\n  const studentData = {\r\n    name: elements.name.value.trim(),\r\n    age: elements.age.value.trim(),\r\n    course: elements.course.value.trim(),\r\n    skills: elements.skills.value.trim(),\r\n    email: elements.email.value.trim(),\r\n    isEnrolled: elements.isEnrolled.checked\r\n  };\r\n\r\n  if (currentEdit === null) {\r\n    addStudent(studentData).then(res => {\r\n      formRef.reset();\r\n      getStudents().then(res => renderStudents(res));\r\n    });\r\n  } else {\r\n    updateStudent(currentEdit, studentData).then(res => {\r\n      currentEdit = 0;\r\n      formRef.reset();\r\n      getStudents().then(res => renderStudents(res));\r\n    });\r\n  };\r\n});\r\n\r\n\r\n\r\ntableBody.addEventListener(\"click\", (event) => {\r\n  const action = event.target.dataset.action;\r\n  if (!action) {\r\n    return;\r\n  };\r\n\r\n  const tr = event.target.closest(\"tr\");\r\n  const id = tr.id;\r\n\r\n  if (action === \"delete\") {\r\n    deleteStudent(id).then(() => getStudents()).then(res => renderStudents(res));\r\n  };\r\n\r\n  if (action === \"edit\") {\r\n    currentEdit = id;\r\n\r\n    formRef.elements.name.value = tr.querySelector(\".item-name\").textContent;\r\n    formRef.elements.age.value = tr.querySelector(\".item-age\").textContent;\r\n    formRef.elements.course.value = tr.querySelector(\".item-course\").textContent;\r\n    formRef.elements.skills.value = tr.querySelector(\".item-skills\").textContent;\r\n    formRef.elements.email.value = tr.querySelector(\".item-email\").textContent;\r\n    formRef.elements.isEnrolled.checked = tr.querySelector(\".item-is-enrolled\").textContent === \"true\";    \r\n  };\r\n});"],"names":["$6f40c3a58f594b58$var$tableBody","document","querySelector","$6f40c3a58f594b58$var$getBtn","getElementById","$6f40c3a58f594b58$var$formRef","$6f40c3a58f594b58$var$currentEdit","$6f40c3a58f594b58$var$getStudents","fetch","then","res","json","$6f40c3a58f594b58$var$renderStudents","students","innerHTML","map","id","name","age","course","skills","email","isEnrolled","join","addEventListener","event","preventDefault","elements","currentTarget","console","log","studentData","value","trim","checked","$6f40c3a58f594b58$var$addStudent","method","body","JSON","stringify","headers","reset","$6f40c3a58f594b58$var$updateStudent","action","target","dataset","tr","closest","$6f40c3a58f594b58$var$deleteStudent","textContent"],"version":3,"file":"crud.29585fd9.js.map"}